<!doctype html>
<html class="h-full">
    <head>
        <title>Weather Report - Peak Conditions</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link href="/dist/main.css" rel="stylesheet" />
    </head>
    <body class="h-full bg-gray-50">
        <div class="min-h-full">
            <div class="py-6 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto">
                <h1 class="text-3xl font-bold text-gray-900 mb-8">
                    Weather Report
                </h1>

                <div class="space-y-6">
                    <!-- Current Conditions -->
                    <div class="relative overflow-hidden bg-white rounded-lg shadow divide-y divide-gray-200">
                        <div class="px-4 py-5 sm:px-6">
                            <h2 class="text-lg font-medium text-gray-900">
                                Current Conditions
                            </h2>
                        </div>
                        <div class="px-4 py-5 sm:p-6">
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div class="text-center">
                                    <p class="text-sm text-gray-500">Temperature</p>
                                    <p class="text-4xl font-bold text-gray-900">
                                        {% if current and current.outdoor_temp %}
                                            {{ "%.1f"|format(current.outdoor_temp) }}째F
                                        {% else %}
                                            --
                                        {% endif %}
                                    </p>
                                </div>
                                <div class="text-center">
                                    <p class="text-sm text-gray-500">Humidity</p>
                                    <p class="text-4xl font-bold text-gray-900">
                                        {% if current and current.humidity %}
                                            {{ "%.0f"|format(current.humidity) }}%
                                        {% else %}
                                            --
                                        {% endif %}
                                    </p>
                                </div>
                                <div class="text-center">
                                    <p class="text-sm text-gray-500">Pressure</p>
                                    <p class="text-4xl font-bold text-gray-900">
                                        {% if current and current.pressure %}
                                            {{ "%.2f"|format(current.pressure) }} inHg
                                        {% else %}
                                            --
                                        {% endif %}
                                    </p>
                                </div>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-4">
                                <div class="text-center">
                                    <p class="text-sm text-gray-500">Wind Speed</p>
                                    <p class="text-4xl font-bold text-gray-900">
                                        {% if current and current.wind_speed is not none %}
                                            {{ "%.1f"|format(current.wind_speed) }} mph
                                        {% else %}
                                            --
                                        {% endif %}
                                    </p>
                                </div>
                                <div class="text-center">
                                    <p class="text-sm text-gray-500">UV Index</p>
                                    <p class="text-4xl font-bold text-gray-900">
                                        {% if current and current.uvi is not none %}
                                            {{ "%.1f"|format(current.uvi) }}
                                        {% else %}
                                            --
                                        {% endif %}
                                    </p>
                                </div>
                                <div class="text-center">
                                    <p class="text-sm text-gray-500">Rain Rate</p>
                                    <p class="text-4xl font-bold text-gray-900">
                                        {% if current and current.rain_rate is not none %}
                                            {{ "%.2f"|format(current.rain_rate) }} in/h
                                        {% else %}
                                            --
                                        {% endif %}
                                    </p>
                                </div>
                            </div>
                            <p class="text-xs text-gray-500 text-center mt-4">
                                {% if current and current.time %}
                                    Last updated: {{ current.time }}
                                {% else %}
                                    Last updated: --
                                {% endif %}
                            </p>
                        </div>
                    </div>
                    
                    <!-- 7 Day Temps -->
                    <div class="relative overflow-hidden bg-white rounded-lg shadow divide-y divide-gray-200">
                        <div class="px-4 py-5 sm:px-6">
                            <h2 class="text-lg font-medium text-gray-900">
                                7-Day Temperature
                            </h2>
                        </div>
                        <div class="px-4 py-5 sm:p-6">
                            <div class="overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-300">
                                    <thead>
                                        <tr>
                                            <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900">Date</th>
                                            <th scope="col" class="py-3.5 px-3 text-left text-sm font-semibold text-gray-900">Low</th>
                                            <th scope="col" class="py-3.5 px-3 text-left text-sm font-semibold text-gray-900">High</th>
                                            <th scope="col" class="py-3.5 px-3 text-left text-sm font-semibold text-gray-900">Avg</th>
                                            <th scope="col" class="py-3.5 px-3 text-left text-sm font-semibold text-gray-900">Humidity</th>
                                        </tr>
                                    </thead>
                                    <tbody class="divide-y divide-gray-200">
                                        {% if daily_data %}
                                            {% for day in daily_data %}
                                                <tr>
                                                    <td class="py-4 pl-4 pr-3 text-sm font-medium text-gray-900">{{ day.day }}</td>
                                                    <td class="py-4 px-3 text-sm text-gray-500">
                                                        {% if day.min_temp %}
                                                            {{ "%.1f"|format(day.min_temp) }}째F
                                                        {% else %}
                                                            --
                                                        {% endif %}
                                                    </td>
                                                    <td class="py-4 px-3 text-sm text-gray-500">
                                                        {% if day.max_temp %}
                                                            {{ "%.1f"|format(day.max_temp) }}째F
                                                        {% else %}
                                                            --
                                                        {% endif %}
                                                    </td>
                                                    <td class="py-4 px-3 text-sm text-gray-500">
                                                        {% if day.avg_temp %}
                                                            {{ "%.1f"|format(day.avg_temp) }}째F
                                                        {% else %}
                                                            --
                                                        {% endif %}
                                                    </td>
                                                    <td class="py-4 px-3 text-sm text-gray-500">
                                                        {% if day.avg_humidity %}
                                                            {{ "%.0f"|format(day.avg_humidity) }}%
                                                        {% else %}
                                                            --
                                                        {% endif %}
                                                    </td>
                                                </tr>
                                            {% endfor %}
                                        {% else %}
                                            <tr>
                                                <td colspan="5" class="py-4 pl-4 pr-3 text-sm text-gray-500">No data available</td>
                                            </tr>
                                        {% endif %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Barometer Trend -->
                        <div class="relative overflow-hidden bg-white rounded-lg shadow divide-y divide-gray-200">
                            <div class="px-4 py-5 sm:px-6">
                                <h2 class="text-lg font-medium text-gray-900">
                                    Barometer Trend (12h)
                                </h2>
                            </div>
                            <div class="px-4 py-5 sm:p-6">
                                <div class="flex items-center justify-between mb-4">
                                    <p class="text-lg text-gray-700">
                                        Trend: 
                                        <span class="font-bold 
                                            {% if barometer_trend == 'rising' %}
                                                text-green-600
                                            {% elif barometer_trend == 'falling' %}
                                                text-red-600
                                            {% else %}
                                                text-blue-600
                                            {% endif %}
                                        ">
                                            {{ barometer_trend }}
                                        </span>
                                    </p>
                                </div>
                                <div class="overflow-x-auto">
                                    <table class="min-w-full divide-y divide-gray-300">
                                        <thead>
                                            <tr>
                                                <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900">Time</th>
                                                <th scope="col" class="py-3.5 px-3 text-left text-sm font-semibold text-gray-900">Pressure</th>
                                            </tr>
                                        </thead>
                                        <tbody class="divide-y divide-gray-200">
                                            {% if barometer_data %}
                                                {% for period in barometer_data %}
                                                    <tr>
                                                        <td class="py-4 pl-4 pr-3 text-sm font-medium text-gray-900">
                                                            {{ period.period.split('T')[1].split('.')[0] if 'T' in period.period else period.period }}
                                                        </td>
                                                        <td class="py-4 px-3 text-sm text-gray-500">
                                                            {% if period.avg_pressure %}
                                                                {{ "%.2f"|format(period.avg_pressure) }} inHg
                                                            {% else %}
                                                                --
                                                            {% endif %}
                                                        </td>
                                                    </tr>
                                                {% endfor %}
                                            {% else %}
                                                <tr>
                                                    <td colspan="2" class="py-4 pl-4 pr-3 text-sm text-gray-500">No data available</td>
                                                </tr>
                                            {% endif %}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Wind Data -->
                        <div class="relative overflow-hidden bg-white rounded-lg shadow divide-y divide-gray-200">
                            <div class="px-4 py-5 sm:px-6">
                                <h2 class="text-lg font-medium text-gray-900">
                                    Recent Wind (3h)
                                </h2>
                            </div>
                            <div class="px-4 py-5 sm:p-6">
                                <div class="overflow-x-auto">
                                    <table class="min-w-full divide-y divide-gray-300">
                                        <thead>
                                            <tr>
                                                <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900">Hour</th>
                                                <th scope="col" class="py-3.5 px-3 text-left text-sm font-semibold text-gray-900">Avg Wind</th>
                                                <th scope="col" class="py-3.5 px-3 text-left text-sm font-semibold text-gray-900">Max Wind</th>
                                            </tr>
                                        </thead>
                                        <tbody class="divide-y divide-gray-200">
                                            {% if wind_data %}
                                                {% for hour in wind_data %}
                                                    <tr>
                                                        <td class="py-4 pl-4 pr-3 text-sm font-medium text-gray-900">
                                                            {{ hour.hour.split('T')[1].split('.')[0] if 'T' in hour.hour else hour.hour }}
                                                        </td>
                                                        <td class="py-4 px-3 text-sm text-gray-500">
                                                            {% if hour.avg_wind is not none %}
                                                                {{ "%.1f"|format(hour.avg_wind) }} mph
                                                            {% else %}
                                                                --
                                                            {% endif %}
                                                        </td>
                                                        <td class="py-4 px-3 text-sm text-gray-500">
                                                            {% if hour.max_wind is not none %}
                                                                {{ "%.1f"|format(hour.max_wind) }} mph
                                                            {% else %}
                                                                --
                                                            {% endif %}
                                                        </td>
                                                    </tr>
                                                {% endfor %}
                                            {% else %}
                                                <tr>
                                                    <td colspan="3" class="py-4 pl-4 pr-3 text-sm text-gray-500">No data available</td>
                                                </tr>
                                            {% endif %}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- UV Index Box -->
                    <div class="relative overflow-hidden bg-white rounded-lg shadow p-6">
                        <div class="text-center">
                            <p class="text-gray-700 mb-2">UV Index High (24h)</p>
                            <p class="text-3xl font-bold text-gray-900">
                                {% if max_uvi is not none %}
                                    {{ "%.1f"|format(max_uvi) }}
                                {% else %}
                                    --
                                {% endif %}
                            </p>
                        </div>
                    </div>
                    
                    <!-- Links to other pages -->
                    <div class="relative overflow-hidden bg-white rounded-lg shadow p-6">
                        <div class="flex justify-center">
                            <a href="/" class="px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition duration-150">Back to Home</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>